# -*- coding: utf-8 -*-import matplotlib.pyplot as pltimport numpyimport randomf = plt.figure()draw = f.add_subplot(111)#拟合函数的次数限制times=9tail=times+1x = numpy.arange(-2,2,0.1)y = [((xi-1)*(xi*xi-1)+0.5)*numpy.cos(xi) for xi in x]#所有使用到的全局变量声明i=0xlabel=[]ylabel=[]A=[]B=[]tempA=[]tempB=[]X=[]Y=[]#-----------------------------#生成数据，加入cos函数，作为噪声！for xi in x:    r=float(random.randint(80,100))/100    xlabel.append(xi*r)    ylabel.append(y[i]*r)    i+=1draw.plot(xlabel,ylabel,color='b',linestyle='',marker='*')length=len(xlabel)for i in range(0,tail):	tempA=[]	for j in range(0,tail):		temp=0.0		for k in range(0,length):			d=1.0			for m in range(0,j+i):				d=d*xlabel[k]			temp+=d		tempA.append(temp)	A.append(tempA)for i in range(0,tail):	temp=0.0	for k in range(0,length):		d=1.0		for j in range(0,i):			d=d*xlabel[k]		temp+=ylabel[k]*d	B.append(temp) #X为可行解X=numpy.linalg.solve(A,B)print('可行解a(x的系数)的矩阵表示为：[a0,---,a%d]'%(times))print(X)for i in range(0,length):	temp=0.0	for j in range(0,tail):		d=1.0		for k in range(0,j):			d*=x[i]		d*=X[j]		temp+=d	Y.append(temp)draw.plot(x,Y,color='r',linestyle='-',marker='.')